attr Module Declarations Declaration Stmts Stmt
  -- at the top level we're interested in a mapping from old, local
  -- variable names, to new, globally-unique names.
  syn dims use {++} {[]} :: {[(TypeDecl, Name)]}

attr TypeDecl
  -- the `name' field is a new name.
  syn dims :: { (TypeDecl, Name) }

sem TypeDecls
  syn dims use {:} {[]} :: {[(TypeDecl, Name)]}

sem TypeDecl
  | TypeDecl lhs.dims = (@self, "newname")
  | TypeDeclArray lhs.dims = (@self, "newname")
  | TypeDeclArrayWithUpperBound lhs.dims = (@self, "newname")
  | TypeDeclArrayWithBounds lhs.dims = (@self, "newname")
